{%- assign section_id = section.id | handleize -%}


<style>
  .{{ section_id }} {
    width: 100%;
    padding: 9rem 0px;
    box-sizing: border-box;
  }
  .ak__cards_wrapper{
    padding: 1.6rem 0px;
    position: relative;
  }
  .ak__cards_wrapper .ak-card-inner-wrapper{
    width: 100%;
    height: 45rem;
    padding: 0.5rem;
    position: relative;
  }
  .ak-card-inner-wrapper .ak__card__img {
    width: 100%;
    height: 100%;
    background-position: center;
    background-size: cover;
}
.ak-card-inner-wrapper .ak__card__img::after {
    content: "";
    position: absolute;
    bottom: 0.5rem;
    left: 0.5rem;
    background: linear-gradient(0deg, rgba(0, 0, 0, 0.9) 45%, rgba(0, 0, 0, 0.76) 65%, rgba(0, 0, 0, 0.31) 84%, rgba(0, 0, 0, 0) 100%);
    height: 13rem;
    width: calc(100% - 1rem);
}

  .{{ section_id }}__heading {
    text-align: center;
  }

  .{{ section_id }}__heading h2 {
    text-transform: uppercase;
    margin: 0 0 1rem;
    font-family: Montserrat, Helvetica, Arial, sans-serif;
    font-size: 1.8rem;
    line-height: 2.3rem;
    font-weight: 700;
    padding-left: 1.6rem;
  }

  .ak-card-row {
    width: calc(100% - 12rem);
    margin: 0px 6rem;
    display: flex;
    flex-direction: row;
    /* overflow-x: scroll; */
    box-sizing: border-box;
    scrollbar-width: none;
    user-select: none;
    -webkit-box-pack: center;
    justify-content: center;
  }

  .{{ section_id }}__card {
    width: calc(25%);
    min-width: calc(25%);
  }

  /* .{{ section_id }}__card img {
    width: 100%;
    height: auto;
    display: block;
  } */

  .{{ section_id }}__card__content {
    position: absolute;
    bottom: 0px;
    left: 0px;
    width: 100%;
    display: flex;
    flex-direction: column;
    -webkit-box-align: center;
    align-items: center;
    transition: transform 400ms cubic-bezier(0.4, 0.4, 0.3, 1) 0s;
  }

  .{{ section_id }}__card h3 {
    color: rgb(255, 255, 255);
    font-size: 2.2rem;
    line-height: 2.7rem;
    font-weight: 700;
    text-transform: uppercase;
    font-family: Montserrat, Helvetica, Arial, sans-serif;
    text-align: center;
    margin: 0 0 1rem;
  }

  .{{ section_id }}__card .read-more {
    text-align: center;
    position: relative;
    z-index: 1;
  }

  .{{ section_id }}__card .read-more-btn {
    color: rgb(0, 0, 0);
    max-width: 16rem;
    opacity: 0; /* Initially set to 0 */
    transition: opacity 400ms cubic-bezier(0.4, 0.4, 0.3, 1) 0s;
    display: inline-block;
    position: relative;
    font-family: Montserrat, Helvetica, Arial, sans-serif;
    text-transform: uppercase;
    font-size: 1.4rem;
    letter-spacing: 0.05rem;
    border-radius: 5rem;
    cursor: pointer;
    padding: 1.5rem 3rem;
    font-weight: 700;
    outline: none;
    border: 0px;
    text-align: center;
    color: rgb(0, 0, 0); 
    background-color: rgb(255, 255, 255);
    text-decoration: none;
}

.{{ section_id }}__card:hover .{{ section_id }}__card__content {
    transform: translateY(-5rem);
}

.{{ section_id }}__card:hover .read-more-btn {  
    opacity: 1; /* On card hover, show the button */
    text-decoration: none;
}

.{{ section_id }}__card .read-more-btn:hover {
    opacity: 1; /* Ensure the button stays visible on hover */
}
@media(max-width: 1024px) {
    .{{ section_id }}__card {
    width: calc(33.3333%);
    min-width: calc(33.3333%);
    min-width: 30rem
  }
  .ak__cards_wrapper{
    overflow-x: scroll;
  }
  .ak-card-row{
    margin: 0;
    justify-content: space-between;
  }
} 
</style> 


{%- comment -%}
  This is a dynamic section for Shopify Liquid with customizable settings.
  The section includes a heading, block-based cards with customizable card limit, and a read more button.
{%- endcomment -%}


<div class="{{ section_id }}" style="background-color: {{ section.settings.section_background_color }};">
  <div class="{{ section_id }}__heading">
    <h2 style="color: {{ section.settings.heading_color }};">{{ section.settings.heading }}</h2>
  </div>

  <div class="ak__cards_wrapper page-width ">
  <div class="ak-card-row">
    {% for block in section.blocks limit: section.settings.card_limit %}
      <div class="{{ section_id }}__card">
        <div class="ak-card-inner-wrapper">
            <div class="ak__card__img"
            style="background-image: url({{ block.settings.image | img_url: 'master' }})">
            </div>

            <div class="{{ section_id }}__card__content">
            <h3>{{ block.settings.card_heading }}</h3>
            <div class="read-more">
                <a href="{{ block.settings.read_more_link }}" class="read-more-btn">{{ block.settings.read_more_heading }}</a>
            </div>
            </div>
            <div class="overlay"></div>
        </div>
      </div>
    {% endfor %}
  </div>
  </div>
</div>

{% schema %}
{
  "name": "Customizable Section",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading"
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Heading Color"
    },
    {
      "type": "color",
      "id": "section_background_color",
      "label": "Section Background Color"
    },
    {
      "type": "range",
      "id": "card_limit",
      "label": "Card Limit",
      "min": 1,
      "max": 6,
      "step": 1,
      "default": 4
    }
  ],
  "blocks": [
    {
      "type": "card",
      "name": "Card",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
          "type": "text",
          "id": "image_alt",
          "label": "Image Alt Text"
        },
        {
          "type": "text",
          "id": "card_heading",
          "label": "Card Heading"
        },
        {
          "type": "text",
          "id": "read_more_heading",
          "label": "Read More Heading"
        },
        {
          "type": "url",
          "id": "read_more_link",
          "label": "Read More Link"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Customizable Section",
      "category": "Custom"
    }
  ]
}
{% endschema %}
